<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠ¨æ€å¼¯æ›²ç”µå­æŸæµ‹è¯•</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #1a1a1a;
            color: white;
            font-family: Arial, sans-serif;
        }
        
        .test-panel {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 8px;
            z-index: 1000;
        }
        
        .test-button {
            display: block;
            margin: 10px 0;
            padding: 10px 15px;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .test-button:hover {
            background: #0b7dda;
        }
        
        .status {
            margin: 10px 0;
            padding: 8px;
            background: rgba(0, 150, 0, 0.3);
            border-left: 3px solid #00aa00;
        }
        
        #canvas-container {
            position: relative;
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>
    <div class="test-panel">
        <h3>ğŸ”¬ åŠ¨æ€ç”µå­æŸæµ‹è¯•</h3>
        <button class="test-button" onclick="testStaticBeam()">æµ‹è¯•é™æ€ç”µå­æŸ</button>
        <button class="test-button" onclick="testDynamicSine()">æµ‹è¯•åŠ¨æ€æ­£å¼¦æ³¢</button>
        <button class="test-button" onclick="testDynamicSquare()">æµ‹è¯•åŠ¨æ€æ–¹æ³¢</button>
        <button class="test-button" onclick="testDynamicTriangle()">æµ‹è¯•åŠ¨æ€ä¸‰è§’æ³¢</button>
        <button class="test-button" onclick="toggleWaveform()">å¼€å…³æ³¢å½¢</button>
        <div id="status" class="status">å‡†å¤‡æµ‹è¯•...</div>
    </div>
    
    <div id="canvas-container"></div>

    <script type="module">
        // ç®€åŒ–çš„æµ‹è¯•é…ç½®
        const testConfig = {
            waveform: {
                type: 'sine',
                frequency: 1,
                amplitude: 1.5,
                phase: 0,
                enabled: false
            },
            deflection: {
                horizontal: { voltage: 0, maxDeflection: 3.0 },
                vertical: { voltage: 0, maxDeflection: 2.5 }
            }
        };
        
        let isWaveformEnabled = false;
        
        // æµ‹è¯•å‡½æ•°
        window.testStaticBeam = function() {
            updateStatus('æµ‹è¯•é™æ€ç”µå­æŸ - æ— æ³¢å½¢åè½¬');
            testConfig.waveform.enabled = false;
            testConfig.deflection.vertical.voltage = 2;
            testConfig.deflection.horizontal.voltage = 1;
            console.log('é™æ€ç”µå­æŸé…ç½®:', testConfig);
        };
        
        window.testDynamicSine = function() {
            updateStatus('æµ‹è¯•åŠ¨æ€æ­£å¼¦æ³¢ - æ•´æ¡ç”µå­æŸåº”è¯¥å‘ˆç°æ­£å¼¦å¼¯æ›²');
            testConfig.waveform = {
                type: 'sine',
                frequency: 1.5,
                amplitude: 2,
                phase: 0,
                enabled: true
            };
            console.log('åŠ¨æ€æ­£å¼¦æ³¢é…ç½®:', testConfig);
        };
        
        window.testDynamicSquare = function() {
            updateStatus('æµ‹è¯•åŠ¨æ€æ–¹æ³¢ - æ•´æ¡ç”µå­æŸåº”è¯¥å‘ˆç°æ–¹æ³¢å¼¯æ›²');
            testConfig.waveform = {
                type: 'square',
                frequency: 0.8,
                amplitude: 2.5,
                phase: 0,
                enabled: true
            };
            console.log('åŠ¨æ€æ–¹æ³¢é…ç½®:', testConfig);
        };
        
        window.testDynamicTriangle = function() {
            updateStatus('æµ‹è¯•åŠ¨æ€ä¸‰è§’æ³¢ - æ•´æ¡ç”µå­æŸåº”è¯¥å‘ˆç°ä¸‰è§’æ³¢å¼¯æ›²');
            testConfig.waveform = {
                type: 'triangle',
                frequency: 1.2,
                amplitude: 2,
                phase: 0,
                enabled: true
            };
            console.log('åŠ¨æ€ä¸‰è§’æ³¢é…ç½®:', testConfig);
        };
        
        window.toggleWaveform = function() {
            isWaveformEnabled = !isWaveformEnabled;
            testConfig.waveform.enabled = isWaveformEnabled;
            updateStatus(`æ³¢å½¢ ${isWaveformEnabled ? 'å·²å¼€å¯' : 'å·²å…³é—­'}`);
            console.log('æ³¢å½¢çŠ¶æ€åˆ‡æ¢:', isWaveformEnabled);
        };
        
        function updateStatus(message) {
            document.getElementById('status').textContent = message;
            console.log('ğŸ“Š æµ‹è¯•çŠ¶æ€:', message);
        }
        
        // åˆå§‹åŒ–çŠ¶æ€
        updateStatus('æµ‹è¯•é¡µé¢å·²åŠ è½½ - è¯·é€‰æ‹©æµ‹è¯•é¡¹ç›®');
        
        // è¾“å‡ºæµ‹è¯•è¯´æ˜
        console.log(`
ğŸ”¬ åŠ¨æ€å¼¯æ›²ç”µå­æŸæµ‹è¯•æŒ‡å—
========================

æœ¬æµ‹è¯•é¡µé¢ç”¨äºéªŒè¯ç”µå­æŸçš„åŠ¨æ€å¼¯æ›²æ•ˆæœï¼š

1. é™æ€ç”µå­æŸ: ç”µå­æŸåº”è¯¥æ˜¯ç›´çº¿æˆ–å›ºå®šå¼¯æ›²
2. åŠ¨æ€æ­£å¼¦æ³¢: æ•´æ¡ç”µå­æŸåº”è¯¥éšæ—¶é—´å‘ˆç°æ­£å¼¦æ³¢å¼¯æ›²
3. åŠ¨æ€æ–¹æ³¢: æ•´æ¡ç”µå­æŸåº”è¯¥éšæ—¶é—´å‘ˆç°æ–¹æ³¢å¼¯æ›²
4. åŠ¨æ€ä¸‰è§’æ³¢: æ•´æ¡ç”µå­æŸåº”è¯¥éšæ—¶é—´å‘ˆç°ä¸‰è§’æ³¢å¼¯æ›²

é¢„æœŸæ•ˆæœ:
- å¯ç”¨æ³¢å½¢æ—¶ï¼Œæ•´æ¡ç”µå­æŸåº”è¯¥åŠ¨æ€å¼¯æ›²
- ä¸åŒæ³¢å½¢ç±»å‹åº”è¯¥äº§ç”Ÿä¸åŒçš„å¼¯æ›²æ¨¡å¼
- æ³¢å½¢é¢‘ç‡å’ŒæŒ¯å¹…åº”è¯¥å½±å“å¼¯æ›²çš„é€Ÿåº¦å’Œå¹…åº¦

è¦æŸ¥çœ‹å®Œæ•´æ•ˆæœï¼Œè¯·åœ¨ä¸»åº”ç”¨ä¸­å¼€å¯æ³¢å½¢å¹¶è§‚å¯Ÿç”µå­æŸå˜åŒ–ã€‚
        `);
    </script>
</body>
</html>

